<!DOCTYPE html>
<html>
<head>
    <title>æµ‹è¯•å®¢æˆ·APIä¿®å¤</title>
</head>
<body>
    <h1>æµ‹è¯•å®¢æˆ·APIä¿®å¤</h1>
    <div id="result"></div>
    
    <script>
        async function testCustomerAPI() {
            const resultDiv = document.getElementById('result');
            
            try {
                // æµ‹è¯•ä¸éœ€è¦è®¤è¯çš„å¥åº·æ£€æŸ¥ç«¯ç‚¹
                console.log('æµ‹è¯•å¥åº·æ£€æŸ¥ç«¯ç‚¹...');
                const healthResponse = await fetch('http://localhost:3001/health');
                
                if (healthResponse.ok) {
                    resultDiv.innerHTML += '<p>âœ… åç«¯æœåŠ¡è¿æ¥æˆåŠŸ</p>';
                } else {
                    resultDiv.innerHTML += '<p>âŒ åç«¯æœåŠ¡è¿æ¥å¤±è´¥</p>';
                }
                
                // æµ‹è¯•å®¢æˆ·APIï¼ˆé¢„æœŸä¼šè¿”å›è®¤è¯é”™è¯¯ï¼Œä½†è¯´æ˜APIæ­£å¸¸ï¼‰
                console.log('æµ‹è¯•å®¢æˆ·APIç«¯ç‚¹...');
                const customerResponse = await fetch('http://localhost:3001/api/v1/customers?page=1&limit=5');
                const customerData = await customerResponse.json();
                
                if (customerData.message === 'è®¿é—®ä»¤ç‰Œç¼ºå¤±') {
                    resultDiv.innerHTML += '<p>âœ… å®¢æˆ·APIç«¯ç‚¹æ­£å¸¸ï¼ˆéœ€è¦è®¤è¯ï¼‰</p>';
                } else {
                    resultDiv.innerHTML += '<p>âŒ å®¢æˆ·APIç«¯ç‚¹å¼‚å¸¸</p>';
                }
                
                // æ£€æŸ¥å“åº”æ ¼å¼æ˜¯å¦ç¬¦åˆsnake_caseè§„èŒƒ
                console.log('å®¢æˆ·APIå“åº”:', customerData);
                resultDiv.innerHTML += '<p>ğŸ“‹ APIå“åº”æ ¼å¼æ£€æŸ¥å®Œæˆï¼Œè¯·æŸ¥çœ‹æ§åˆ¶å°</p>';
                
            } catch (error) {
                console.error('æµ‹è¯•å¤±è´¥:', error);
                resultDiv.innerHTML += `<p>âŒ æµ‹è¯•å¤±è´¥: ${error.message}</p>`;
            }
        }
        
        // é¡µé¢åŠ è½½åè‡ªåŠ¨è¿è¡Œæµ‹è¯•
        window.onload = testCustomerAPI;
    </script>
</body>
</html>