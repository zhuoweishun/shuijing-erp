{
  "start_time": "2025-09-12T15:44:24.026825",
  "total_files_processed": 147,
  "files_modified": 57,
  "total_replacements": 428,
  "field_replacements": {
    "username": 207,
    "isBoss": 29,
    "useAuth": 32,
    "userAgent": 34,
    "canAdjust": 8,
    "canRefund": 8,
    "useSkuPermissions": 10,
    "useSkuPermission": 2,
    "checkSkuPermission": 4,
    "getSkuPermissions": 2,
    "isAuthenticated": 32,
    "loginRequest": 3,
    "UserManagement": 2,
    "UNAUTHORIZED": 12,
    "updateProfile": 2,
    "INSUFFICIENT_PERMISSIONS": 17,
    "INVALID_TOKEN": 7,
    "TOKEN_EXPIRED": 7,
    "redirectOnAuth": 2,
    "AUTH_REDIRECT_ERRORS": 2,
    "lastEditedBy": 6
  },
  "modified_files": [
    {
      "file": "D:\\shuijing ERP\\src\\components\\SkuControlModal.tsx",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\components\\SkuControlModal.tsx",
      "replacements": 3,
      "field_counts": {
        "username": 2,
        "isBoss": 1
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\hooks\\useAuth.tsx",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\hooks\\useAuth.tsx",
      "replacements": 5,
      "field_counts": {
        "username": 3,
        "useAuth": 2
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\hooks\\useDeviceDetection.tsx",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\hooks\\useDeviceDetection.tsx",
      "replacements": 13,
      "field_counts": {
        "userAgent": 13
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\hooks\\useSkuPermissions.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\hooks\\useSkuPermissions.ts",
      "replacements": 26,
      "field_counts": {
        "canAdjust": 6,
        "canRefund": 6,
        "useSkuPermissions": 6,
        "useSkuPermission": 2,
        "checkSkuPermission": 4,
        "getSkuPermissions": 2
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\hooks\\__tests__\\useAuth.test.tsx",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\hooks\\__tests__\\useAuth.test.tsx",
      "replacements": 40,
      "field_counts": {
        "username": 14,
        "useAuth": 26
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\pages\\CustomerManagement.tsx",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\pages\\CustomerManagement.tsx",
      "replacements": 1,
      "field_counts": {
        "isAuthenticated": 1
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\pages\\CustomerManagement_backup.tsx",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\pages\\CustomerManagement_backup.tsx",
      "replacements": 1,
      "field_counts": {
        "isAuthenticated": 1
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\pages\\InventoryList.tsx",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\pages\\InventoryList.tsx",
      "replacements": 2,
      "field_counts": {
        "useAuth": 2
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\pages\\InventoryList_backup.tsx",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\pages\\InventoryList_backup.tsx",
      "replacements": 2,
      "field_counts": {
        "useAuth": 2
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\pages\\Login.tsx",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\pages\\Login.tsx",
      "replacements": 15,
      "field_counts": {
        "username": 12,
        "loginRequest": 3
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\pages\\ProductEntry.tsx",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\pages\\ProductEntry.tsx",
      "replacements": 2,
      "field_counts": {
        "username": 2
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\pages\\ProductEntry_backup.tsx",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\pages\\ProductEntry_backup.tsx",
      "replacements": 2,
      "field_counts": {
        "username": 2
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\pages\\PurchaseEntry.tsx",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\pages\\PurchaseEntry.tsx",
      "replacements": 3,
      "field_counts": {
        "userAgent": 3
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\pages\\PurchaseEntry_backup.tsx",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\pages\\PurchaseEntry_backup.tsx",
      "replacements": 3,
      "field_counts": {
        "userAgent": 3
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\pages\\SalesList.tsx",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\pages\\SalesList.tsx",
      "replacements": 3,
      "field_counts": {
        "isAuthenticated": 1,
        "useSkuPermissions": 2
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\pages\\SalesList_backup.tsx",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\pages\\SalesList_backup.tsx",
      "replacements": 3,
      "field_counts": {
        "isAuthenticated": 1,
        "useSkuPermissions": 2
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\pages\\UserManagement.tsx",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\pages\\UserManagement.tsx",
      "replacements": 2,
      "field_counts": {
        "UserManagement": 2
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\pages\\__tests__\\InventoryList.test.tsx",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\pages\\__tests__\\InventoryList.test.tsx",
      "replacements": 18,
      "field_counts": {
        "username": 2,
        "isBoss": 8,
        "isAuthenticated": 8
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\pages\\__tests__\\InventoryList.test_backup.tsx",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\pages\\__tests__\\InventoryList.test_backup.tsx",
      "replacements": 18,
      "field_counts": {
        "username": 2,
        "isBoss": 8,
        "isAuthenticated": 8
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\pages\\__tests__\\PurchaseEntry.test.tsx",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\pages\\__tests__\\PurchaseEntry.test.tsx",
      "replacements": 14,
      "field_counts": {
        "username": 2,
        "isBoss": 6,
        "isAuthenticated": 6
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\pages\\__tests__\\PurchaseEntry.test_backup.tsx",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\pages\\__tests__\\PurchaseEntry.test_backup.tsx",
      "replacements": 14,
      "field_counts": {
        "username": 2,
        "isBoss": 6,
        "isAuthenticated": 6
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\services\\api.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\services\\api.ts",
      "replacements": 5,
      "field_counts": {
        "username": 3,
        "UNAUTHORIZED": 1,
        "updateProfile": 1
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\services\\api_backup.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\services\\api_backup.ts",
      "replacements": 5,
      "field_counts": {
        "username": 3,
        "UNAUTHORIZED": 1,
        "updateProfile": 1
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\services\\errorHandler.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\services\\errorHandler.ts",
      "replacements": 26,
      "field_counts": {
        "userAgent": 2,
        "INSUFFICIENT_PERMISSIONS": 4,
        "INVALID_TOKEN": 5,
        "TOKEN_EXPIRED": 5,
        "UNAUTHORIZED": 6,
        "redirectOnAuth": 2,
        "AUTH_REDIRECT_ERRORS": 2
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\types\\index.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\types\\index.ts",
      "replacements": 5,
      "field_counts": {
        "username": 3,
        "canAdjust": 1,
        "canRefund": 1
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\types\\index_backup.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\types\\index_backup.ts",
      "replacements": 5,
      "field_counts": {
        "username": 3,
        "canAdjust": 1,
        "canRefund": 1
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\utils\\fieldConverter.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\utils\\fieldConverter.ts",
      "replacements": 4,
      "field_counts": {
        "username": 2,
        "lastEditedBy": 2
      }
    },
    {
      "file": "D:\\shuijing ERP\\src\\utils\\fieldConverter_backup.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\src\\utils\\fieldConverter_backup.ts",
      "replacements": 4,
      "field_counts": {
        "username": 2,
        "lastEditedBy": 2
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\middleware\\auth.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\middleware\\auth.ts",
      "replacements": 4,
      "field_counts": {
        "username": 4
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\middleware\\errorHandler.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\middleware\\errorHandler.ts",
      "replacements": 5,
      "field_counts": {
        "userAgent": 1,
        "INSUFFICIENT_PERMISSIONS": 1,
        "INVALID_TOKEN": 1,
        "TOKEN_EXPIRED": 1,
        "UNAUTHORIZED": 1
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\routes\\auth.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\routes\\auth.ts",
      "replacements": 11,
      "field_counts": {
        "username": 10,
        "userAgent": 1
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\routes\\customers.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\routes\\customers.ts",
      "replacements": 2,
      "field_counts": {
        "username": 2
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\routes\\customers_backup.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\routes\\customers_backup.ts",
      "replacements": 2,
      "field_counts": {
        "username": 2
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\routes\\financial.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\routes\\financial.ts",
      "replacements": 13,
      "field_counts": {
        "username": 13
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\routes\\financial_backup.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\routes\\financial_backup.ts",
      "replacements": 13,
      "field_counts": {
        "username": 13
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\routes\\health.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\routes\\health.ts",
      "replacements": 3,
      "field_counts": {
        "userAgent": 3
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\routes\\inventory.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\routes\\inventory.ts",
      "replacements": 4,
      "field_counts": {
        "username": 4
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\routes\\inventory_backup.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\routes\\inventory_backup.ts",
      "replacements": 4,
      "field_counts": {
        "username": 4
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\routes\\materials.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\routes\\materials.ts",
      "replacements": 4,
      "field_counts": {
        "username": 4
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\routes\\materials_backup.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\routes\\materials_backup.ts",
      "replacements": 4,
      "field_counts": {
        "username": 4
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\routes\\products.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\routes\\products.ts",
      "replacements": 2,
      "field_counts": {
        "username": 2
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\routes\\products_backup.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\routes\\products_backup.ts",
      "replacements": 2,
      "field_counts": {
        "username": 2
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\routes\\purchases.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\routes\\purchases.ts",
      "replacements": 17,
      "field_counts": {
        "username": 16,
        "lastEditedBy": 1
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\routes\\purchases_backup.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\routes\\purchases_backup.ts",
      "replacements": 17,
      "field_counts": {
        "username": 16,
        "lastEditedBy": 1
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\routes\\skus.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\routes\\skus.ts",
      "replacements": 2,
      "field_counts": {
        "username": 2
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\routes\\skus_backup.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\routes\\skus_backup.ts",
      "replacements": 2,
      "field_counts": {
        "username": 2
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\routes\\suppliers.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\routes\\suppliers.ts",
      "replacements": 8,
      "field_counts": {
        "username": 2,
        "INSUFFICIENT_PERMISSIONS": 6
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\routes\\users.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\routes\\users.ts",
      "replacements": 18,
      "field_counts": {
        "username": 17,
        "UNAUTHORIZED": 1
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\routes\\users_backup.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\routes\\users_backup.ts",
      "replacements": 18,
      "field_counts": {
        "username": 17,
        "UNAUTHORIZED": 1
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\routes\\__tests__\\purchases.test.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\routes\\__tests__\\purchases.test.ts",
      "replacements": 2,
      "field_counts": {
        "username": 2
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\routes\\__tests__\\purchases.test_backup.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\routes\\__tests__\\purchases.test_backup.ts",
      "replacements": 2,
      "field_counts": {
        "username": 2
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\routes\\__tests__\\suppliers.test.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\routes\\__tests__\\suppliers.test.ts",
      "replacements": 7,
      "field_counts": {
        "username": 2,
        "INSUFFICIENT_PERMISSIONS": 5
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\utils\\errorResponse.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\utils\\errorResponse.ts",
      "replacements": 4,
      "field_counts": {
        "INSUFFICIENT_PERMISSIONS": 1,
        "INVALID_TOKEN": 1,
        "TOKEN_EXPIRED": 1,
        "UNAUTHORIZED": 1
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\utils\\fieldConverter.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\utils\\fieldConverter.ts",
      "replacements": 2,
      "field_counts": {
        "username": 2
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\utils\\fieldConverter_backup.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\utils\\fieldConverter_backup.ts",
      "replacements": 2,
      "field_counts": {
        "username": 2
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\utils\\operationLogger.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\utils\\operationLogger.ts",
      "replacements": 5,
      "field_counts": {
        "username": 1,
        "userAgent": 4
      }
    },
    {
      "file": "D:\\shuijing ERP\\backend/src\\utils\\operationLogger_backup.ts",
      "backup": "D:\\shuijing ERP\\backup_permission_fields_20250912_154424\\backend\\src\\utils\\operationLogger_backup.ts",
      "replacements": 5,
      "field_counts": {
        "username": 1,
        "userAgent": 4
      }
    }
  ],
  "errors": [],
  "end_time": "2025-09-12T15:44:28.458797",
  "duration": "0:00:04.431972"
}